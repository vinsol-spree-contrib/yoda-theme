<% content_for :header do -%>
  <%= javascript_include_tag 'yoda/javascripts/spree/frontend/user_auth' -%>
<% end -%>
<div class='blank-space row'>
</div>
<%= render :partial => 'spree/shared/error_messages', :locals => { :target => @user } %>
<div class="col-md-6 col-md-offset-3" data-display-section='true'>
  <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title"><%= Spree.t(:new_customer) %></h3>
    </div>
      <div id="new-customer" class="panel-body" data-hook="login">
        <div data-display-url='/signup' data-page-title=<%= Spree.t(:new_customer) %>>
          <%= form_for resource, :as => :spree_user, :url => spree.registration_path do |f| %>
            <div data-hook="signup_inside_form">
              <%= render :partial => 'spree/shared/user_form', :locals => { :f => f } %>
              <p><%= f.submit Spree.t(:create), :class => 'btn btn-lg btn-success btn-block' %></p>
            </div>
          <% end %>
        </div>
        <div class="text-center">
          <%= Spree.t(:or) %>
          <span data-auth-action=<%= spree.login_path %>>
            <%= Spree.t(:login_as_existing) %>
          </span>
        </div>
        <div data-hook="login_extras"></div>
      </div>
  </div>
</div>

<div class="col-md-6 col-md-offset-3">
  <div class="panel panel-default" data-display-section='true'>
      <div class="panel-heading">
        <h3 class="panel-title"><%= Spree.t(:login_as_existing) %></h3>
    </div>
      <div id="existing-customer" class="panel-body" data-hook="login">
          <% if flash[:alert] %>
            <div class="alert alert-danger"><%= flash[:alert] %></div>
          <% end %>
          <div data-display-url='/login' data-page-title=<%= Spree.t(:login_as_existing) %>>
            <%= form_for Spree::User.new, :as => :spree_user, :url => spree.create_new_session_path do |f| %>
              <fieldset id="password-credentials">
                <div class="form-group">
                  <%= f.email_field :email, :class => 'form-control', :tabindex => 1, :placeholder => Spree.t(:email) %>
                </div>
                <div class="form-group">
                  <%= f.password_field :password, :class => 'form-control', :tabindex => 2, :placeholder => Spree.t(:password) %>
                </div>
                <div class="checkbox">
                  <label>
                    <%= f.check_box :remember_me %>
                    <%= f.label :remember_me, Spree.t(:remember_me) %>
                  </label>
                </div>
                <div class="form-group">
                  <%= f.submit Spree.t(:login), :class => 'btn btn-lg btn-success btn-block', :tabindex => 3 %>
                </div>
              </fieldset>
            <% end %>
          </div>
          <div class="text-center">
            <%= Spree.t(:or) %> 
              <span data-auth-action=<%= spree.signup_path %>>
                <%= Spree.t(:create_a_new_account) %>
              </span>

              <span data-auth-action=<%= spree.recover_password_path %>>
                <%= Spree.t(:forgot_password) %>
              </span>
          </div>
          <div data-hook="login_extras"></div>
      </div>
  </div>
</div>

<div class="col-md-6 col-md-offset-3" id="forgot-password" data-display-section='true'>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title"><%= Spree.t(:forgot_password) %></h3>
    </div>
    <div class="panel-body">
      <p><%= Spree.t(:instructions_to_reset_password) %></p>
      <div data-display-url='/password/recover' data-page-title=<%= Spree.t(:forgot_password) %>>
        <%= form_for Spree::User.new, :as => :spree_user, :url => spree.reset_password_path do |f| %>
          <p>
            <%= f.label :email, Spree.t(:email) %><br />
            <%= f.email_field :email, :class => "form-control" %>
          </p>
          <p>
            <%= f.submit Spree.t(:reset_password), :class => 'btn btn-lg btn-success btn-block' %>
          </p>
        <% end %>
      </div>
    </div>
  </div>
</div>
